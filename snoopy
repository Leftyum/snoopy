-- MOBILE AUTO CLICKER SCRIPT FOR ROBLOX BEDWARS (ANDROID + iOS)

if not game:GetService("UserInputService").TouchEnabled then return end

local player = game.Players.LocalPlayer
local gui = Instance.new("ScreenGui")
gui.Name = "LEFTAC"
gui.ResetOnSpawn = false
gui.IgnoreGuiInset = true
gui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 200, 0, 100)
frame.Position = UDim2.new(0, 50, 0, 50)
frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true
frame.Parent = gui

local toggle = Instance.new("TextButton")
toggle.Size = UDim2.new(1, -20, 0, 40)
toggle.Position = UDim2.new(0, 10, 0, 10)
toggle.Text = "Auto Clicker OFF"
toggle.TextColor3 = Color3.new(1, 1, 1)
toggle.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
toggle.Font = Enum.Font.SourceSansBold
toggle.TextSize = 18
toggle.Parent = frame

local cpsBox = Instance.new("TextBox")
cpsBox.Size = UDim2.new(1, -20, 0, 30)
cpsBox.Position = UDim2.new(0, 10, 0, 60)
cpsBox.PlaceholderText = "CPS (Clicks Per Second)"
cpsBox.Text = ""
cpsBox.ClearTextOnFocus = false
cpsBox.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
cpsBox.TextColor3 = Color3.new(1, 1, 1)
cpsBox.Font = Enum.Font.SourceSans
cpsBox.TextSize = 16
cpsBox.Parent = frame

local clicking = false

local function getCPS()
    local cps = tonumber(cpsBox.Text)
    return cps and math.clamp(cps, 1, 50) or 10
end

local function simulateClick()
    local bedwars = getrenv()._G or getgenv()
    local clickEvent = bedwars and bedwars.MouseButton1Click
    if clickEvent and typeof(clickEvent) == "RBXScriptSignal" then
        clickEvent:Fire()
    else
        -- fallback method
        local tool = player.Character and player.Character:FindFirstChildOfClass("Tool")
        if tool then
            tool:Activate()
        end
    end
end

local function autoClicker()
    while clicking do
        simulateClick()
        task.wait(1 / getCPS())
    end
end

toggle.TouchTap:Connect(function()
    clicking = not clicking
    if clicking then
        toggle.Text = "Auto Clicker ON"
        toggle.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
        task.spawn(autoClicker)
    else
        toggle.Text = "Auto Clicker OFF"
        toggle.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
    end
end)
