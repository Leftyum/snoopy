-- AutoClickerModule (ModuleScript)

local AutoClicker = {}  -- Create an empty table

-- Initialize the auto clicker with an optional CPS parameter (default: 10)
function AutoClicker.Init(CPS)
    CPS = CPS or 10
    local clickDelay = 1 / CPS
    local UserInputService = game:GetService("UserInputService")
    
    local isClicking = false

    -- Auto click loop: continuously runs after initialization
    task.spawn(function()
        while true do
            if isClicking then
                -- Replace this with your actual click logic (or fire a RemoteEvent)
                print("Auto Click!")
                task.wait(clickDelay)
            else
                task.wait(0.1)
            end
        end
    end)

    -- Listen for left mouse button press
    UserInputService.InputBegan:Connect(function(input, gameProcessed)
        if input.UserInputType == Enum.UserInputType.MouseButton1 and not gameProcessed then
            isClicking = true
        end
    end)

    -- Listen for left mouse button release
    UserInputService.InputEnded:Connect(function(input, gameProcessed)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            isClicking = false
        end
    end)
end

return AutoClicker
